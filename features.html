
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>Core Features &#8212; VariantWorks SDK 0.1.0 documentation</title>
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Examples" href="examples.html" />
    <link rel="prev" title="VariantWorks SDK Developer Guide" href="index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="examples.html" title="Examples"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="VariantWorks SDK Developer Guide"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">VariantWorks SDK 0.1.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="core-features">
<h1>Core Features<a class="headerlink" href="#core-features" title="Permalink to this headline">¶</a></h1>
<p>VariantWorks provides most of its functionality in the form of library functions that
encapsulate common algorithms, encodings and utilites helpful for variant processing.
The following sections will walk through an explanation of each feature that is currently
supported.</p>
<div class="section" id="encoders">
<h2>Encoders<a class="headerlink" href="#encoders" title="Permalink to this headline">¶</a></h2>
<p>Encoders are classes that generate an encoding for the neural network. The classes can be used to
not only generate encodings, but also augment and transform them.</p>
<p>All encoders need to inherit from the base class <a class="reference internal" href="apidocs/variantworks.html#variantworks.sample_encoder.SampleEncoder" title="variantworks.sample_encoder.SampleEncoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">SampleEncoder</span></code></a>
and implement the abstract method <cite>__call__</cite>, which triggers the encoding generation.</p>
<img alt="_images/encoder.png" src="_images/encoder.png" />
<p>Currently available encoders -</p>
<ul class="simple">
<li><p><a class="reference internal" href="apidocs/variantworks.html#variantworks.sample_encoder.PileupEncoder" title="variantworks.sample_encoder.PileupEncoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">PileupEncoder</span></code></a> - Encoding read pileups as multi dimensional images.
<strong>Only SNP encoding is available right now.*</strong></p></li>
</ul>
</div>
<div class="section" id="i-o">
<h2>I/O<a class="headerlink" href="#i-o" title="Permalink to this headline">¶</a></h2>
<div class="section" id="format-readers">
<h3>Format Readers<a class="headerlink" href="#format-readers" title="Permalink to this headline">¶</a></h3>
<p>Reading entries from common genomics file formats (such as BAM, VCF) is a precursor to almost all variant calling pipelines.
VariantWorks provides parsing (based on pyVCF) for VCFs, and leverages pySAM for working with BAM files.</p>
<p>The Reader classes follow a similar structure to Encoders when it comes to inheritence. All readers must inherit from
<a class="reference internal" href="apidocs/variantworks.html#variantworks.io.baseio.BaseReader" title="variantworks.io.baseio.BaseReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseReader</span></code></a> and implement the abstract methods <cite>__len__</cite> and <cite>__getitem__</cite> to make them
compatible and easy to use with data loaders.</p>
<p>Currently available readers -</p>
<ul class="simple">
<li><p><a class="reference internal" href="apidocs/variantworks.html#variantworks.io.vcfio.VCFReader" title="variantworks.io.vcfio.VCFReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">VCFReader</span></code></a> - Reader for VCF compressed and indexed VCF files.
<strong>VCFReader only support reading single sample VCFs.*</strong></p></li>
</ul>
</div>
<div class="section" id="results-writers">
<h3>Results Writers<a class="headerlink" href="#results-writers" title="Permalink to this headline">¶</a></h3>
<p>After variants have been predicted/evaluated, they are usually required to be output into file formats such as VCF for
downstream processing. VariantWorks provides a <a class="reference internal" href="apidocs/variantworks.html#variantworks.result_writer.ResultWriter" title="variantworks.result_writer.ResultWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResultWriter</span></code></a> base class
to facilitate the creation of result writers. Custom writers need to implement only the <cite>write_output</cite> function to be compatible
with the base class.</p>
<p>Currently support result writers -</p>
<ul class="simple">
<li><p><a class="reference internal" href="apidocs/variantworks.html#variantworks.result_writer.VCFResultWriter" title="variantworks.result_writer.VCFResultWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">VCFResultWriter</span></code></a> class which can output predicted zygosities into a VCF file.</p></li>
</ul>
</div>
<div class="section" id="data-loaders">
<h3>Data Loaders<a class="headerlink" href="#data-loaders" title="Permalink to this headline">¶</a></h3>
<p>Data loaders are core to generating datasets in batches for training a nerual network. Since VariantWorks is based on the
NeMo toolkit, we leverage the data loader abstractions defined in
<a class="reference external" href="https://nvidia.github.io/NeMo/tutorials/custommodules.html#data-layer-module">DataLayerNM</a>.</p>
<p>Currently available data loaders -</p>
<ul class="simple">
<li><p><a class="reference internal" href="apidocs/variantworks.html#variantworks.dataloader.ReadPileupDataLoader" title="variantworks.dataloader.ReadPileupDataLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReadPileupDataLoader</span></code></a> - encapsulates loading samples from VCF and using PileupEncoders to generate training data.</p></li>
</ul>
</div>
</div>
<div class="section" id="reference-networks">
<h2>Reference Networks<a class="headerlink" href="#reference-networks" title="Permalink to this headline">¶</a></h2>
<p>Reference architectures suitable for variant calling and/or consensus calling are packaged
as part of VariantWorks to quickly bootstrap DL powered variant caling pipelies.</p>
<p>Like the data loaders, reference neural networks are also defined within the NeMo paradigm as
<a class="reference external" href="https://nvidia.github.io/NeMo/tutorials/custommodules.html#trainable-module">TrainableNM</a> modules.</p>
<p>Currently available networks -</p>
<ul class="simple">
<li><p><a class="reference internal" href="apidocs/variantworks.html#variantworks.networks.AlexNet" title="variantworks.networks.AlexNet"><code class="xref py py-class docutils literal notranslate"><span class="pre">AlexNext</span></code></a></p></li>
</ul>
<p>Most customized networks architectures will be added over time.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Core Features</a><ul>
<li><a class="reference internal" href="#encoders">Encoders</a></li>
<li><a class="reference internal" href="#i-o">I/O</a><ul>
<li><a class="reference internal" href="#format-readers">Format Readers</a></li>
<li><a class="reference internal" href="#results-writers">Results Writers</a></li>
<li><a class="reference internal" href="#data-loaders">Data Loaders</a></li>
</ul>
</li>
<li><a class="reference internal" href="#reference-networks">Reference Networks</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">VariantWorks SDK Developer Guide</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="examples.html"
                        title="next chapter">Examples</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/features.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="examples.html" title="Examples"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="VariantWorks SDK Developer Guide"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">VariantWorks SDK 0.1.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, NVIDIA Corportation.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.0.4.
    </div>
  </body>
</html>