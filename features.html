

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Core Features &mdash; VariantWorks SDK 0.1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Examples" href="examples.html" />
    <link rel="prev" title="Developer Guide" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> VariantWorks SDK
          

          
          </a>

          
            
            
              <div class="version">
                0.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Core Features</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#encoders">Encoders</a></li>
<li class="toctree-l2"><a class="reference internal" href="#i-o">I/O</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#format-readers">Format Readers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#data-loaders">Data Loaders</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#reference-networks">Reference Networks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="apidocs/modules.html">API</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">VariantWorks SDK</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Core Features</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/features.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="core-features">
<h1>Core Features<a class="headerlink" href="#core-features" title="Permalink to this headline">¶</a></h1>
<p>VariantWorks provides most of its functionality in the form of library functions that
encapsulate common algorithms, encodings and utilites helpful for variant processing.
The following sections will walk through an explanation of each feature that is currently
supported.</p>
<div class="section" id="encoders">
<h2>Encoders<a class="headerlink" href="#encoders" title="Permalink to this headline">¶</a></h2>
<p>Encoders are classes that generate an encoding for the neural network. The classes can be used to
not only generate encodings, but also augment and transform them.</p>
<p>All encoders need to inherit from the base class <a class="reference internal" href="apidocs/variantworks.html#variantworks.encoders.Encoder" title="variantworks.encoders.Encoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">Encoder</span></code></a>
and implement the abstract method <cite>__call__</cite>, which triggers the encoding generation.</p>
<img alt="_images/encoder.png" src="_images/encoder.png" />
<p>Currently available encoders -</p>
<ul class="simple">
<li><p><a class="reference internal" href="apidocs/variantworks.html#variantworks.encoders.PileupEncoder" title="variantworks.encoders.PileupEncoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">PileupEncoder</span></code></a> - Encoding read pileups as multi dimensional images.</p></li>
<li><p><a class="reference internal" href="apidocs/variantworks.html#variantworks.encoders.ZygosityLabelEncoder" title="variantworks.encoders.ZygosityLabelEncoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">ZygosityLabelEncoder</span></code></a> - Encoding a variant entry into a zygosity label.</p></li>
<li><p><a class="reference internal" href="apidocs/variantworks.html#variantworks.encoders.SummaryEncoder" title="variantworks.encoders.SummaryEncoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">SummaryEncoder</span></code></a> - Encoding pileups into a matrix of nucleotide summary counts.</p></li>
<li><p><a class="reference internal" href="apidocs/variantworks.html#variantworks.encoders.HaploidLabelEncoder" title="variantworks.encoders.HaploidLabelEncoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">HaploidLabelEncoder</span></code></a> - Encoding pileups into labels with true nucleotide sequence.</p></li>
</ul>
<p>Encoders are also encouraged to implement a visualization function to enable visual inspection of
encodings for debugging and analysis. This is optional for encoders, and is currently only implemented
for <a class="reference internal" href="apidocs/variantworks.html#variantworks.encoders.PileupEncoder.visualize" title="variantworks.encoders.PileupEncoder.visualize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">PileupEncoder.visualize</span></code></a>.</p>
</div>
<div class="section" id="i-o">
<h2>I/O<a class="headerlink" href="#i-o" title="Permalink to this headline">¶</a></h2>
<div class="section" id="format-readers">
<h3>Format Readers<a class="headerlink" href="#format-readers" title="Permalink to this headline">¶</a></h3>
<p>Reading entries from common genomics file formats (such as BAM, VCF) is a precursor to almost all variant calling pipelines.
VariantWorks provides parsing (based on cyvcf2) for VCFs, and leverages pySAM for working with BAM files.</p>
<p>The Reader classes follow a similar structure to Encoders when it comes to inheritence. All readers must inherit from
<a class="reference internal" href="apidocs/variantworks.html#variantworks.io.baseio.BaseReader" title="variantworks.io.baseio.BaseReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseReader</span></code></a> and implement the abstract methods <cite>__len__</cite> and <cite>__getitem__</cite> to make them
compatible and easy to use with data loaders.</p>
<p>Currently available readers -</p>
<ul class="simple">
<li><p>VCF I/O module provides <a class="reference internal" href="apidocs/variantworks.html#variantworks.io.vcfio.VCFReader" title="variantworks.io.vcfio.VCFReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">VCFReader</span></code></a> and <a class="reference internal" href="apidocs/variantworks.html#variantworks.io.vcfio.VCFWriter" title="variantworks.io.vcfio.VCFWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">VCFWriter</span></code></a> for
parsing VCFs into dataframes and serializing VCF dataframes back into files.</p></li>
</ul>
</div>
<div class="section" id="data-loaders">
<h3>Data Loaders<a class="headerlink" href="#data-loaders" title="Permalink to this headline">¶</a></h3>
<p>Data loaders are core to generating datasets in batches for training a nerual network. Since VariantWorks is based on the
NeMo toolkit, we leverage the data loader abstractions defined in
<a class="reference external" href="https://nvidia.github.io/NeMo/tutorials/custommodules.html#data-layer-module">DataLayerNM</a>.</p>
<p>Currently available data loaders -</p>
<ul class="simple">
<li><p><a class="reference internal" href="apidocs/variantworks.html#variantworks.dataloader.ReadPileupDataLoader" title="variantworks.dataloader.ReadPileupDataLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReadPileupDataLoader</span></code></a> - encapsulates loading samples from VCF and using PileupEncoders to generate training data.
This type of data loader is typically useful for variant calling tasks which process BAMs and VCFs simultaneously.</p></li>
<li><p><a class="reference internal" href="apidocs/variantworks.html#variantworks.dataloader.HDFDataLoader" title="variantworks.dataloader.HDFDataLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">HDFDataLoader</span></code></a> - encapsulates a generalized, multi-threaded data loader for loading tensors from HDF files. This type
of data loader is frequently used when data is prepared/serialized ahead of time into a HDF file and directly read from the HDF file during training/evaluation loops.</p></li>
</ul>
</div>
</div>
<div class="section" id="reference-networks">
<h2>Reference Networks<a class="headerlink" href="#reference-networks" title="Permalink to this headline">¶</a></h2>
<p>Reference architectures suitable for variant calling and/or consensus calling are packaged
as part of VariantWorks to quickly bootstrap DL powered variant caling pipelies.</p>
<p>Like the data loaders, reference neural networks are also defined within the NeMo paradigm as
<a class="reference external" href="https://nvidia.github.io/NeMo/tutorials/custommodules.html#trainable-module">TrainableNM</a> modules.</p>
<p>Currently available networks -</p>
<ul class="simple">
<li><p><a class="reference internal" href="apidocs/variantworks.html#variantworks.networks.AlexNet" title="variantworks.networks.AlexNet"><code class="xref py py-class docutils literal notranslate"><span class="pre">AlexNext</span></code></a></p></li>
<li><p><a class="reference internal" href="apidocs/variantworks.html#variantworks.networks.ConsensusRNN" title="variantworks.networks.ConsensusRNN"><code class="xref py py-class docutils literal notranslate"><span class="pre">AlexNext</span></code></a></p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="examples.html" class="btn btn-neutral float-right" title="Examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Developer Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, NVIDIA Corportation

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>