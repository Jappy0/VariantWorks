

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Encoders &mdash; VariantWorks SDK 0.1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="API" href="modules.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> VariantWorks SDK
          

          
          </a>

          
            
            
              <div class="version">
                0.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features.html">Core Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Encoders</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-variantworks.dataloader">Dataloaders</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-variantworks.networks">Networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-variantworks.io.baseio">IO</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-variantworks.types">Types</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">VariantWorks SDK</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">API</a> &raquo;</li>
        
      <li>Encoders</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/apidocs/variantworks.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-variantworks.encoders">
<span id="encoders"></span><h1>Encoders<a class="headerlink" href="#module-variantworks.encoders" title="Permalink to this headline">¶</a></h1>
<p>Classes and functions for encoding samples.</p>
<dl class="py class">
<dt id="variantworks.encoders.BaseEnumEncoder">
<em class="property">class </em><code class="sig-prename descclassname">variantworks.encoders.</code><code class="sig-name descname">BaseEnumEncoder</code><a class="reference internal" href="../_modules/variantworks/encoders.html#BaseEnumEncoder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.BaseEnumEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#variantworks.encoders.Encoder" title="variantworks.encoders.Encoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">variantworks.encoders.Encoder</span></code></a></p>
<p>An Enum encoder that returns an output encoding for Nucleotide base.</p>
<p>Converts Nucleotide base char type to a class number.</p>
<dl class="py method">
<dt id="variantworks.encoders.BaseEnumEncoder.__call__">
<code class="sig-name descname">__call__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nucleotide</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/encoders.html#BaseEnumEncoder.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.BaseEnumEncoder.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode Nucleotide base to Enum.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Nucleotide base encoded as number.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="variantworks.encoders.BaseEnumEncoder.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/encoders.html#BaseEnumEncoder.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.BaseEnumEncoder.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a class instance.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="variantworks.encoders.BaseUnicodeEncoder">
<em class="property">class </em><code class="sig-prename descclassname">variantworks.encoders.</code><code class="sig-name descname">BaseUnicodeEncoder</code><a class="reference internal" href="../_modules/variantworks/encoders.html#BaseUnicodeEncoder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.BaseUnicodeEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#variantworks.encoders.Encoder" title="variantworks.encoders.Encoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">variantworks.encoders.Encoder</span></code></a></p>
<p>A Unicode code encoder that returns an output encoding for Nucleotide base.</p>
<p>Converts Nucleotide base char type to a Unicode numeric value.</p>
<dl class="py method">
<dt id="variantworks.encoders.BaseUnicodeEncoder.__call__">
<code class="sig-name descname">__call__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nucleotide</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/encoders.html#BaseUnicodeEncoder.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.BaseUnicodeEncoder.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode Nucleotide base to Unicode code.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Nucleotide base encoded as Unicode code.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="variantworks.encoders.BaseUnicodeEncoder.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/encoders.html#BaseUnicodeEncoder.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.BaseUnicodeEncoder.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a class instance.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="variantworks.encoders.Encoder">
<em class="property">class </em><code class="sig-prename descclassname">variantworks.encoders.</code><code class="sig-name descname">Encoder</code><a class="reference internal" href="../_modules/variantworks/encoders.html#Encoder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.Encoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>An abstract class defining the interface to an encoder implementation.</p>
<p>Encoder could be used for encoding inputs to network, as well as encoding target labels for prediction.</p>
<dl class="py method">
<dt id="variantworks.encoders.Encoder.__call__">
<em class="property">abstract </em><code class="sig-name descname">__call__</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">sample</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/encoders.html#Encoder.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.Encoder.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the encoding of a sample.</p>
</dd></dl>

<dl class="py method">
<dt id="variantworks.encoders.Encoder.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/encoders.html#Encoder.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.Encoder.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a class instance.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="variantworks.encoders.HaploidLabelEncoder">
<em class="property">class </em><code class="sig-prename descclassname">variantworks.encoders.</code><code class="sig-name descname">HaploidLabelEncoder</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">exclude_no_coverage_positions</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/encoders.html#HaploidLabelEncoder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.HaploidLabelEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#variantworks.encoders.Encoder" title="variantworks.encoders.Encoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">variantworks.encoders.Encoder</span></code></a></p>
<p>A haploid label encoder for pileups containing truth sequence.</p>
<p>Given a pileup generated from a truth sequence aligned to the draft sequence,
generate one-hot encoded labels for each pileup column. The possible labels
should be one of: [A, C, G, T, deletion], in both the forward and reverse strand.
Therefore, given a pileup file as input, the output labels should be of shape
(num_pileup_col, 10).</p>
<p>This encoding is inspired by a label encoder used in Medaka
(<a class="reference external" href="https://github.com/nanoporetech/medaka/blob/master/medaka/labels.py">https://github.com/nanoporetech/medaka/blob/master/medaka/labels.py</a>)</p>
<dl class="py method">
<dt id="variantworks.encoders.HaploidLabelEncoder.__call__">
<code class="sig-name descname">__call__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">region</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/encoders.html#HaploidLabelEncoder.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.HaploidLabelEncoder.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a torch tensor with summary encoding.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>region</strong> – Region dataclass specifying region within a pileup to generate
an encoding for.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(labels, positions) tuple
labels : A torch tensor encoding the labels for the pileup
positions : A torch tensor encoding reference and inserted positions in labels</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="variantworks.encoders.HaploidLabelEncoder.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">exclude_no_coverage_positions</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/encoders.html#HaploidLabelEncoder.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.HaploidLabelEncoder.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructor for the class.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Instance of class.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="variantworks.encoders.PileupEncoder">
<em class="property">class </em><code class="sig-prename descclassname">variantworks.encoders.</code><code class="sig-name descname">PileupEncoder</code><span class="sig-paren">(</span><em class="sig-param">window_size=50, max_reads=50, layers=[&lt;Layer.READ: 0&gt;], base_encoder=None, print_encoding=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/encoders.html#PileupEncoder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.PileupEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#variantworks.encoders.Encoder" title="variantworks.encoders.Encoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">variantworks.encoders.Encoder</span></code></a></p>
<p>A pileup encoder for BAMs.</p>
<p>For a given SNP position and nucleotide context, the encoder generates a pileup
tensor around the variant position. The pileup can have configurable depth based on
the type of information that is selected to be embedded.</p>
<p>The variant location of interest is kept centered in the pileup, and the layers input in
the constructor define the channels created in the encoding. For more details on available
channels, please check the documentation for the Layers enum.</p>
<dl class="py class">
<dt id="variantworks.encoders.PileupEncoder.Layer">
<em class="property">class </em><code class="sig-name descname">Layer</code><a class="reference internal" href="../_modules/variantworks/encoders.html#PileupEncoder.Layer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.PileupEncoder.Layer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></p>
<p>Layers that can be added to the pileup encoding.</p>
<dl>
<dt>Values:</dt><dd><p>READ : Encode each aligned read as a row of the pileup. The bases in the
read are encoded using a base_encoder dict passed into the class. The reads
in the row are positioned according to the pileup alignment.</p>
<p>BASE_QUALITY : Encode the base quality of each aligned read in the pileup. Base
qualities of each read are added to a new row, following the same positioning as for READS. The base
qualities are normalized to [0,1] (using max value of 93 per SAM format).
Missing base quality is set to 0.</p>
<p>MAPPING_QUALITY : Mapping quality of a read is encoded at each nucleotide position of the read. Mapping
quality values are noramlize to [0,1] (assuming max value of 50).
Missing mapping quality is set to 0.</p>
<p>REFERENCE : Only the reference allele location is encoded in each row.</p>
<p>ALLELE : Only the alt allele location is encoded in each row.</p>
</dd>
</dl>
<dl class="py attribute">
<dt id="variantworks.encoders.PileupEncoder.Layer.ALLELE">
<code class="sig-name descname">ALLELE</code><em class="property"> = 4</em><a class="headerlink" href="#variantworks.encoders.PileupEncoder.Layer.ALLELE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="variantworks.encoders.PileupEncoder.Layer.BASE_QUALITY">
<code class="sig-name descname">BASE_QUALITY</code><em class="property"> = 1</em><a class="headerlink" href="#variantworks.encoders.PileupEncoder.Layer.BASE_QUALITY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="variantworks.encoders.PileupEncoder.Layer.MAPPING_QUALITY">
<code class="sig-name descname">MAPPING_QUALITY</code><em class="property"> = 2</em><a class="headerlink" href="#variantworks.encoders.PileupEncoder.Layer.MAPPING_QUALITY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="variantworks.encoders.PileupEncoder.Layer.READ">
<code class="sig-name descname">READ</code><em class="property"> = 0</em><a class="headerlink" href="#variantworks.encoders.PileupEncoder.Layer.READ" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="variantworks.encoders.PileupEncoder.Layer.REFERENCE">
<code class="sig-name descname">REFERENCE</code><em class="property"> = 3</em><a class="headerlink" href="#variantworks.encoders.PileupEncoder.Layer.REFERENCE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py method">
<dt id="variantworks.encoders.PileupEncoder.__call__">
<code class="sig-name descname">__call__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">variant</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/encoders.html#PileupEncoder.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.PileupEncoder.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a torch Tensor pileup queried from a BAM file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>variant</strong> – Variant struct holding information about variant locus.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="variantworks.encoders.PileupEncoder.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">window_size=50, max_reads=50, layers=[&lt;Layer.READ: 0&gt;], base_encoder=None, print_encoding=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/encoders.html#PileupEncoder.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.PileupEncoder.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct class instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>window_size</strong> – A nucleotide context size on either side of variant position [50].</p></li>
<li><p><strong>max_reads</strong> – Max number of reads to consider in the pileip. If reads fewer than max_reads</p></li>
<li><p><strong>available</strong><strong>, </strong><strong>the entries are all masked to 0.</strong><strong> [</strong><strong>50</strong><strong>]</strong> (<em>are</em>) – </p></li>
<li><p><strong>layers</strong> – A list defining the layers to add to the encoding. The ordering of channels in the</p></li>
<li><p><strong>follows the ordering of layers in the list.</strong><strong> [</strong><strong>Layer.READ</strong><strong>]</strong> (<em>encoding</em>) – </p></li>
<li><p><strong>base_encoder</strong> – A class which inherits from <cite>Encoder</cite> defining conversion of nucleotide string chars to</p></li>
<li><p><strong>representation in its __call__ method.</strong><strong> [</strong><strong>BaseEnumEncoder</strong><strong>]</strong> (<em>numeric</em>) – </p></li>
<li><p><strong>print_encoding</strong> – Print ASCII representation of each encoding that’s converted to a tensor. [False]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Instance of class.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="variantworks.encoders.PileupEncoder.depth">
<em class="property">property </em><code class="sig-name descname">depth</code><a class="headerlink" href="#variantworks.encoders.PileupEncoder.depth" title="Permalink to this definition">¶</a></dt>
<dd><p>Return number of layers in pileup.</p>
</dd></dl>

<dl class="py method">
<dt id="variantworks.encoders.PileupEncoder.height">
<em class="property">property </em><code class="sig-name descname">height</code><a class="headerlink" href="#variantworks.encoders.PileupEncoder.height" title="Permalink to this definition">¶</a></dt>
<dd><p>Return height of pileup.</p>
</dd></dl>

<dl class="py method">
<dt id="variantworks.encoders.PileupEncoder.visualize">
<code class="sig-name descname">visualize</code><span class="sig-paren">(</span><em class="sig-param">variant</em>, <em class="sig-param">save_to_path=None</em>, <em class="sig-param">max_subplots_per_line=3</em>, <em class="sig-param">visual_decoder=&lt;variantworks.encoders.UnicodeRGBEncoder object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/encoders.html#PileupEncoder.visualize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.PileupEncoder.visualize" title="Permalink to this definition">¶</a></dt>
<dd><p>Visualize variant encoded pileup.</p>
<p>Outputs variant pileup visualization to a figure.
Execute <cite>tensorboard –logdir=’&lt;save_to_path&gt;’ –port=6006</cite> in the background to view the images over
TensorBoard.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>variant</strong> – Variant struct holding information about variant locus.</p></li>
<li><p><strong>save_to_path</strong> – Path to figure output direcoty. [None]</p></li>
<li><p><strong>max_subplots_per_line</strong> – maximal number of plots per row in the figure. [3]</p></li>
<li><p><strong>visual_decoder</strong> – a decoder for a visualized representation of PileupEncoder.base_encoder</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>figure title
figure: matplotlib.pyplot.figure object</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>figure_title</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="variantworks.encoders.PileupEncoder.width">
<em class="property">property </em><code class="sig-name descname">width</code><a class="headerlink" href="#variantworks.encoders.PileupEncoder.width" title="Permalink to this definition">¶</a></dt>
<dd><p>Return width of pileup.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="variantworks.encoders.SummaryEncoder">
<em class="property">class </em><code class="sig-prename descclassname">variantworks.encoders.</code><code class="sig-name descname">SummaryEncoder</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">exclude_no_coverage_positions</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">normalize_counts</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/encoders.html#SummaryEncoder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.SummaryEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#variantworks.encoders.Encoder" title="variantworks.encoders.Encoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">variantworks.encoders.Encoder</span></code></a></p>
<p>A summary count encoder for pileups.</p>
<p>For a given pileup of reads (e.g. output from samtools mpileup), the encoder generates
tensor for each pileup column. The encoder counts the number of DNA bases (A, G, G, T, deletion)
for each pileup column on both the forward and reverse strands. Insertions are handled by encoding
new pileup columns. Therefore, the output of the encoder is a tensor of shape (num_pileup_col, 10).
The output of this encoder can be used to train a sequence aware model such such as an RNN.</p>
<p>This encoding is inspired by a featurizer used in Medaka
(<a class="reference external" href="https://github.com/nanoporetech/medaka/blob/master/medaka/features.py">https://github.com/nanoporetech/medaka/blob/master/medaka/features.py</a>)</p>
<dl class="py method">
<dt id="variantworks.encoders.SummaryEncoder.__call__">
<code class="sig-name descname">__call__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">region</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/encoders.html#SummaryEncoder.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.SummaryEncoder.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a torch tensor with summary encoding.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>region</strong> – Region dataclass specifying region within a pileup to generate
an encoding for.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(count_matrix, positions) tuple
count_matrix : A torch tensor encoding the summary count for the pileup
positions : A torch tensor encoding reference and inserted positions in pileup</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="variantworks.encoders.SummaryEncoder.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">exclude_no_coverage_positions</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">normalize_counts</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/encoders.html#SummaryEncoder.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.SummaryEncoder.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructor for the class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exclude_no_coverage_positions</strong> – Flag to determine if pileup columns with 0
coverage should be dropped.</p></li>
<li><p><strong>normalize_counts</strong> – Flag to determine if summary counts in encoding should
be normalized.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Instance of class.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="variantworks.encoders.UnicodeRGBEncoder">
<em class="property">class </em><code class="sig-prename descclassname">variantworks.encoders.</code><code class="sig-name descname">UnicodeRGBEncoder</code><a class="reference internal" href="../_modules/variantworks/encoders.html#UnicodeRGBEncoder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.UnicodeRGBEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#variantworks.encoders.Encoder" title="variantworks.encoders.Encoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">variantworks.encoders.Encoder</span></code></a></p>
<p>A encoder that returns an RGB color encoding for Nucleotide base Unicode value.</p>
<p>Converts Nucleotide base unicode value type to a RGB color list.</p>
<dl class="py method">
<dt id="variantworks.encoders.UnicodeRGBEncoder.__call__">
<code class="sig-name descname">__call__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nucleotide_unicode</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/encoders.html#UnicodeRGBEncoder.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.UnicodeRGBEncoder.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode Nucleotide base to Unicode code.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Nucleotide base encoded as Unicode code.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="variantworks.encoders.UnicodeRGBEncoder.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/encoders.html#UnicodeRGBEncoder.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.UnicodeRGBEncoder.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a class instance.</p>
</dd></dl>

<dl class="py method">
<dt id="variantworks.encoders.UnicodeRGBEncoder.get_key_legend_label">
<em class="property">static </em><code class="sig-name descname">get_key_legend_label</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">k</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/encoders.html#UnicodeRGBEncoder.get_key_legend_label"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.UnicodeRGBEncoder.get_key_legend_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Get keys corresponding name for legend .</p>
</dd></dl>

<dl class="py method">
<dt id="variantworks.encoders.UnicodeRGBEncoder.get_keys">
<code class="sig-name descname">get_keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/encoders.html#UnicodeRGBEncoder.get_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.UnicodeRGBEncoder.get_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Get nucleotide bases unicode keys.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="variantworks.encoders.ZygosityLabelDecoder">
<em class="property">class </em><code class="sig-prename descclassname">variantworks.encoders.</code><code class="sig-name descname">ZygosityLabelDecoder</code><a class="reference internal" href="../_modules/variantworks/encoders.html#ZygosityLabelDecoder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.ZygosityLabelDecoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#variantworks.encoders.Encoder" title="variantworks.encoders.Encoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">variantworks.encoders.Encoder</span></code></a></p>
<p>A decoder to convert a class to a zygosity enum.</p>
<dl class="py method">
<dt id="variantworks.encoders.ZygosityLabelDecoder.__call__">
<code class="sig-name descname">__call__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">class_id</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/encoders.html#ZygosityLabelDecoder.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.ZygosityLabelDecoder.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Decode class to variant zygosity enum.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Variant zygosity.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="variantworks.encoders.ZygosityLabelDecoder.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/encoders.html#ZygosityLabelDecoder.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.ZygosityLabelDecoder.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a class instance.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="variantworks.encoders.ZygosityLabelEncoder">
<em class="property">class </em><code class="sig-prename descclassname">variantworks.encoders.</code><code class="sig-name descname">ZygosityLabelEncoder</code><a class="reference internal" href="../_modules/variantworks/encoders.html#ZygosityLabelEncoder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.ZygosityLabelEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#variantworks.encoders.Encoder" title="variantworks.encoders.Encoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">variantworks.encoders.Encoder</span></code></a></p>
<p>A label encoder that returns an output label encoding for zygosity only.</p>
<p>Converts zygosity type to a class number.</p>
<dl class="py method">
<dt id="variantworks.encoders.ZygosityLabelEncoder.__call__">
<code class="sig-name descname">__call__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">variant</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/encoders.html#ZygosityLabelEncoder.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.ZygosityLabelEncoder.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode variant to class for zygosity.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Zygosity encoded as number.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="variantworks.encoders.ZygosityLabelEncoder.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/encoders.html#ZygosityLabelEncoder.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.encoders.ZygosityLabelEncoder.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a class instance.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-variantworks.dataloader">
<span id="dataloaders"></span><h1>Dataloaders<a class="headerlink" href="#module-variantworks.dataloader" title="Permalink to this headline">¶</a></h1>
<p>A class for creating a dataset from BAM and VCF files.</p>
<dl class="py class">
<dt id="variantworks.dataloader.HDFDataLoader">
<em class="property">class </em><code class="sig-prename descclassname">variantworks.dataloader.</code><code class="sig-name descname">HDFDataLoader</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hdf_file</span></em>, <em class="sig-param"><span class="n">batch_size</span><span class="o">=</span><span class="default_value">32</span></em>, <em class="sig-param"><span class="n">shuffle</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">num_workers</span><span class="o">=</span><span class="default_value">4</span></em>, <em class="sig-param"><span class="n">tensor_keys</span><span class="o">=</span><span class="default_value">['encodings', 'labels']</span></em>, <em class="sig-param"><span class="n">tensor_dtypes</span><span class="o">=</span><span class="default_value">[torch.float32, torch.int64]</span></em>, <em class="sig-param"><span class="n">tensor_dims</span><span class="o">=</span><span class="default_value">['B', 'C', 'W', 'H', 'B']</span></em>, <em class="sig-param"><span class="n">tensor_neural_types</span><span class="o">=</span><span class="default_value">[ReadPileupNeuralType, VariantZygosityNeuralType]</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/dataloader.html#HDFDataLoader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.dataloader.HDFDataLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">nemo.backends.pytorch.nm.DataLayerNM</span></code></p>
<p>Dataloader class to load pileup encodings and zygosity labels from HDF5 file.</p>
<dl class="py method">
<dt id="variantworks.dataloader.HDFDataLoader.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hdf_file</span></em>, <em class="sig-param"><span class="n">batch_size</span><span class="o">=</span><span class="default_value">32</span></em>, <em class="sig-param"><span class="n">shuffle</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">num_workers</span><span class="o">=</span><span class="default_value">4</span></em>, <em class="sig-param"><span class="n">tensor_keys</span><span class="o">=</span><span class="default_value">['encodings', 'labels']</span></em>, <em class="sig-param"><span class="n">tensor_dtypes</span><span class="o">=</span><span class="default_value">[torch.float32, torch.int64]</span></em>, <em class="sig-param"><span class="n">tensor_dims</span><span class="o">=</span><span class="default_value">['B', 'C', 'W', 'H', 'B']</span></em>, <em class="sig-param"><span class="n">tensor_neural_types</span><span class="o">=</span><span class="default_value">[ReadPileupNeuralType, VariantZygosityNeuralType]</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/dataloader.html#HDFDataLoader.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.dataloader.HDFDataLoader.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructor for data loader.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hdf_file</strong> – Path to HDF file with pileup encodings</p></li>
<li><p><strong>batch_size</strong> – batch size for data loader [32]</p></li>
<li><p><strong>shuffle</strong> – shuffle dataset [True]</p></li>
<li><p><strong>num_workers</strong> – numbers of parallel data loader threads [4]</p></li>
<li><p><strong>tensor_keys</strong> – List with keys of tensors to load. [“encodings”, “labels”]</p></li>
<li><p><strong>tensor_dtypes</strong> – torch data types for tensor. [torch.float32, torch.int64]</p></li>
<li><p><strong>tensor_dims</strong> – NeuralModule axes for tensors. [(‘B’, ‘C’, ‘W’, ‘H’), (‘B’)]</p></li>
<li><p><strong>tensor_neural_types</strong> – NeuralTypes for tensors. [SummaryPileupNeuralType(), HaploidNeuralType()]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Instance of class.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="variantworks.dataloader.HDFDataLoader.data_iterator">
<em class="property">property </em><code class="sig-name descname">data_iterator</code><a class="headerlink" href="#variantworks.dataloader.HDFDataLoader.data_iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Return Torch dataloader instance.</p>
</dd></dl>

<dl class="py method">
<dt id="variantworks.dataloader.HDFDataLoader.dataset">
<em class="property">property </em><code class="sig-name descname">dataset</code><a class="headerlink" href="#variantworks.dataloader.HDFDataLoader.dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Not used.</p>
</dd></dl>

<dl class="py method">
<dt id="variantworks.dataloader.HDFDataLoader.output_ports">
<em class="property">property </em><code class="sig-name descname">output_ports</code><a class="headerlink" href="#variantworks.dataloader.HDFDataLoader.output_ports" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns definitions of module output ports.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>NeMo output port.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="variantworks.dataloader.ReadPileupDataLoader">
<em class="property">class </em><code class="sig-prename descclassname">variantworks.dataloader.</code><code class="sig-name descname">ReadPileupDataLoader</code><span class="sig-paren">(</span><em class="sig-param">data_loader_type</em>, <em class="sig-param">variant_loaders</em>, <em class="sig-param">batch_size=32</em>, <em class="sig-param">shuffle=True</em>, <em class="sig-param">num_workers=4</em>, <em class="sig-param">sample_encoder=&lt;variantworks.encoders.PileupEncoder object&gt;</em>, <em class="sig-param">label_encoder=&lt;variantworks.encoders.ZygosityLabelEncoder object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/dataloader.html#ReadPileupDataLoader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.dataloader.ReadPileupDataLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">nemo.backends.pytorch.nm.DataLayerNM</span></code></p>
<p>Data loader class to train zygosity predictions from variant pileup encodings.</p>
<dl class="py class">
<dt id="variantworks.dataloader.ReadPileupDataLoader.Type">
<em class="property">class </em><code class="sig-name descname">Type</code><a class="reference internal" href="../_modules/variantworks/dataloader.html#ReadPileupDataLoader.Type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.dataloader.ReadPileupDataLoader.Type" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></p>
<p>Type of data loader.</p>
<dl class="py attribute">
<dt id="variantworks.dataloader.ReadPileupDataLoader.Type.EVAL">
<code class="sig-name descname">EVAL</code><em class="property"> = 1</em><a class="headerlink" href="#variantworks.dataloader.ReadPileupDataLoader.Type.EVAL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="variantworks.dataloader.ReadPileupDataLoader.Type.TEST">
<code class="sig-name descname">TEST</code><em class="property"> = 2</em><a class="headerlink" href="#variantworks.dataloader.ReadPileupDataLoader.Type.TEST" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="variantworks.dataloader.ReadPileupDataLoader.Type.TRAIN">
<code class="sig-name descname">TRAIN</code><em class="property"> = 0</em><a class="headerlink" href="#variantworks.dataloader.ReadPileupDataLoader.Type.TRAIN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py method">
<dt id="variantworks.dataloader.ReadPileupDataLoader.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">data_loader_type</em>, <em class="sig-param">variant_loaders</em>, <em class="sig-param">batch_size=32</em>, <em class="sig-param">shuffle=True</em>, <em class="sig-param">num_workers=4</em>, <em class="sig-param">sample_encoder=&lt;variantworks.encoders.PileupEncoder object&gt;</em>, <em class="sig-param">label_encoder=&lt;variantworks.encoders.ZygosityLabelEncoder object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/dataloader.html#ReadPileupDataLoader.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.dataloader.ReadPileupDataLoader.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a data loader.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_loader_type</strong> – Type of data loader (ReadPileupDataLoader.Type.TRAIN/EVAL/TEST)</p></li>
<li><p><strong>variant_loaders</strong> – A list of loader classes for variants</p></li>
<li><p><strong>batch_size</strong> – batch size for data loader [32]</p></li>
<li><p><strong>shuffle</strong> – shuffle dataset [True]</p></li>
<li><p><strong>num_workers</strong> – numbers of parallel data loader threads [4]</p></li>
<li><p><strong>sample_encoder</strong> – Custom pileup encoder for variant [READ pileup encoding, window size 100]</p></li>
<li><p><strong>label_encoder</strong> – Custom label encoder for variant [ZygosityLabelEncoder] (Only applicable</p></li>
<li><p><strong>type=TRAIN/EVAL</strong><strong>)</strong> (<em>when</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Instance of class.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="variantworks.dataloader.ReadPileupDataLoader.data_iterator">
<em class="property">property </em><code class="sig-name descname">data_iterator</code><a class="headerlink" href="#variantworks.dataloader.ReadPileupDataLoader.data_iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Return Torch dataloader instance.</p>
</dd></dl>

<dl class="py method">
<dt id="variantworks.dataloader.ReadPileupDataLoader.dataset">
<em class="property">property </em><code class="sig-name descname">dataset</code><a class="headerlink" href="#variantworks.dataloader.ReadPileupDataLoader.dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Not used.</p>
</dd></dl>

<dl class="py method">
<dt id="variantworks.dataloader.ReadPileupDataLoader.output_ports">
<em class="property">property </em><code class="sig-name descname">output_ports</code><a class="headerlink" href="#variantworks.dataloader.ReadPileupDataLoader.output_ports" title="Permalink to this definition">¶</a></dt>
<dd><p>Return definitions of module output ports.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>NeMo output port.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-variantworks.networks">
<span id="networks"></span><h1>Networks<a class="headerlink" href="#module-variantworks.networks" title="Permalink to this headline">¶</a></h1>
<p>Common implementations of networks as Neural Modules.</p>
<dl class="py class">
<dt id="variantworks.networks.AlexNet">
<em class="property">class </em><code class="sig-prename descclassname">variantworks.networks.</code><code class="sig-name descname">AlexNet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">num_input_channels</span></em>, <em class="sig-param"><span class="n">num_output_logits</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/networks.html#AlexNet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.networks.AlexNet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">nemo.backends.pytorch.nm.TrainableNM</span></code></p>
<p>A Neural Module for AlexNet.</p>
<dl class="py method">
<dt id="variantworks.networks.AlexNet.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">num_input_channels</span></em>, <em class="sig-param"><span class="n">num_output_logits</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/networks.html#AlexNet.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.networks.AlexNet.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an AlexNet NeMo instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_input_channels</strong> – Number of input channels in image.</p></li>
<li><p><strong>num_output_logits</strong> – Number of output logits of classifier.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Instance of class.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="variantworks.networks.AlexNet.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">encoding</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/networks.html#AlexNet.forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.networks.AlexNet.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract function to run the network.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>encoding</strong> – Input image to run network on.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Output of forward pass.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="variantworks.networks.AlexNet.input_ports">
<em class="property">property </em><code class="sig-name descname">input_ports</code><a class="headerlink" href="#variantworks.networks.AlexNet.input_ports" title="Permalink to this definition">¶</a></dt>
<dd><p>Return definitions of module input ports.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Module input ports.</p>
</dd>
</dl>
<ul class="simple">
<li><p><em>encoding</em> : axes: (batch, dimension, height, width);  elements_type: ChannelType</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="variantworks.networks.AlexNet.output_ports">
<em class="property">property </em><code class="sig-name descname">output_ports</code><a class="headerlink" href="#variantworks.networks.AlexNet.output_ports" title="Permalink to this definition">¶</a></dt>
<dd><p>Return definitions of module output ports.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Module output ports.</p>
</dd>
</dl>
<ul class="simple">
<li><p><em>output_logit</em> : axes: (batch, dimension);  elements_type: LogitsType</p></li>
</ul>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="variantworks.networks.ConsensusRNN">
<em class="property">class </em><code class="sig-prename descclassname">variantworks.networks.</code><code class="sig-name descname">ConsensusRNN</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sequence_length</span></em>, <em class="sig-param"><span class="n">input_feature_size</span></em>, <em class="sig-param"><span class="n">num_output_logits</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/networks.html#ConsensusRNN"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.networks.ConsensusRNN" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">nemo.backends.pytorch.nm.TrainableNM</span></code></p>
<p>A Neural Module for training a Consensus RNN.</p>
<dl class="py method">
<dt id="variantworks.networks.ConsensusRNN.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sequence_length</span></em>, <em class="sig-param"><span class="n">input_feature_size</span></em>, <em class="sig-param"><span class="n">num_output_logits</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/networks.html#ConsensusRNN.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.networks.ConsensusRNN.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct an Consensus RNN NeMo instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sequence_length</strong> – Length of sequence to feed into RNN.</p></li>
<li><p><strong>input_feature_size</strong> – Length of input feature set.</p></li>
<li><p><strong>num_output_logits</strong> – Number of output classes of classifier.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Instance of class.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="variantworks.networks.ConsensusRNN.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">encoding</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/networks.html#ConsensusRNN.forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.networks.ConsensusRNN.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract function to run the network.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>encoding</strong> – Input sequence to run network on.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Output of forward pass.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="variantworks.networks.ConsensusRNN.input_ports">
<em class="property">property </em><code class="sig-name descname">input_ports</code><a class="headerlink" href="#variantworks.networks.ConsensusRNN.input_ports" title="Permalink to this definition">¶</a></dt>
<dd><p>Return definitions of module input ports.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Module input ports.</p>
</dd>
</dl>
<ul class="simple">
<li><p><em>encoding</em> : axes: (batch, width, dimension);  elements_type: ChannelType</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="variantworks.networks.ConsensusRNN.output_ports">
<em class="property">property </em><code class="sig-name descname">output_ports</code><a class="headerlink" href="#variantworks.networks.ConsensusRNN.output_ports" title="Permalink to this definition">¶</a></dt>
<dd><p>Return definitions of module output ports.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Module output ports.</p>
</dd>
</dl>
<ul class="simple">
<li><p><em>output_logit</em> : axes: (batch, width, dimension);  elements_type: LogitsType</p></li>
</ul>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-variantworks.io.baseio">
<span id="io"></span><h1>IO<a class="headerlink" href="#module-variantworks.io.baseio" title="Permalink to this headline">¶</a></h1>
<p>Base class readers and writers.</p>
<dl class="py class">
<dt id="variantworks.io.baseio.BaseReader">
<em class="property">class </em><code class="sig-prename descclassname">variantworks.io.baseio.</code><code class="sig-name descname">BaseReader</code><a class="reference internal" href="../_modules/variantworks/io/baseio.html#BaseReader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.io.baseio.BaseReader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Base class for format reader.</p>
<dl class="py method">
<dt id="variantworks.io.baseio.BaseReader.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/io/baseio.html#BaseReader.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.io.baseio.BaseReader.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize a reader instance.</p>
</dd></dl>

<dl class="py method">
<dt id="variantworks.io.baseio.BaseReader.dataframe">
<em class="property">abstract </em><code class="sig-name descname">dataframe</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/io/baseio.html#BaseReader.dataframe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.io.baseio.BaseReader.dataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Return parsed file as dataframe.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="variantworks.io.baseio.BaseReaderIterator">
<em class="property">class </em><code class="sig-prename descclassname">variantworks.io.baseio.</code><code class="sig-name descname">BaseReaderIterator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">reader</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/io/baseio.html#BaseReaderIterator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.io.baseio.BaseReaderIterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Iterator class for VCF reader.</p>
<dl class="py method">
<dt id="variantworks.io.baseio.BaseReaderIterator.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">reader</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/io/baseio.html#BaseReaderIterator.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.io.baseio.BaseReaderIterator.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize an iterator for a reader instance.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="variantworks.io.baseio.BaseWriter">
<em class="property">class </em><code class="sig-prename descclassname">variantworks.io.baseio.</code><code class="sig-name descname">BaseWriter</code><a class="reference internal" href="../_modules/variantworks/io/baseio.html#BaseWriter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.io.baseio.BaseWriter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Base class for format writer.</p>
<dl class="py method">
<dt id="variantworks.io.baseio.BaseWriter.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/io/baseio.html#BaseWriter.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.io.baseio.BaseWriter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize a writer instance.</p>
</dd></dl>

<dl class="py method">
<dt id="variantworks.io.baseio.BaseWriter.write_output">
<em class="property">abstract </em><code class="sig-name descname">write_output</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/io/baseio.html#BaseWriter.write_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.io.baseio.BaseWriter.write_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Write format to disk.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-variantworks.io.vcfio"></span><p>Classes for reading and writing VCFs.</p>
<dl class="py class">
<dt id="variantworks.io.vcfio.VCFReader">
<em class="property">class </em><code class="sig-prename descclassname">variantworks.io.vcfio.</code><code class="sig-name descname">VCFReader</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vcf</span></em>, <em class="sig-param"><span class="n">bams</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">is_fp</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">require_genotype</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">tags</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">info_keys</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">filter_keys</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">format_keys</span><span class="o">=</span><span class="default_value">['*']</span></em>, <em class="sig-param"><span class="n">regions</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">num_threads</span><span class="o">=</span><span class="default_value">24</span></em>, <em class="sig-param"><span class="n">chunksize</span><span class="o">=</span><span class="default_value">5000</span></em>, <em class="sig-param"><span class="n">sort</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">unbounded_val_max_cols</span><span class="o">=</span><span class="default_value">3</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/io/vcfio.html#VCFReader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.io.vcfio.VCFReader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#variantworks.io.baseio.BaseReader" title="variantworks.io.baseio.BaseReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">variantworks.io.baseio.BaseReader</span></code></a></p>
<p>Reader for VCF files.</p>
<dl class="py method">
<dt id="variantworks.io.vcfio.VCFReader.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vcf</span></em>, <em class="sig-param"><span class="n">bams</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">is_fp</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">require_genotype</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">tags</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">info_keys</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">filter_keys</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">format_keys</span><span class="o">=</span><span class="default_value">['*']</span></em>, <em class="sig-param"><span class="n">regions</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">num_threads</span><span class="o">=</span><span class="default_value">24</span></em>, <em class="sig-param"><span class="n">chunksize</span><span class="o">=</span><span class="default_value">5000</span></em>, <em class="sig-param"><span class="n">sort</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">unbounded_val_max_cols</span><span class="o">=</span><span class="default_value">3</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/io/vcfio.html#VCFReader.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.io.vcfio.VCFReader.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse and extract variants from a vcf/bam tuple.</p>
<p>Note VCFReader splits multi-allelic entries into separate variant
entries. VCFReader also doesn’t maintain the original ordering of variants
from the VCF becasue of its multi threaded nature for parsing.</p>
<p>If a gVCF file is passed into the VCFReader, all entries where the ALT
columns are “.” or “&lt;NON_REF&gt;” will be ignored as range entries
are not handled in this reader currently.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vcf</strong> – Path to VCF file.</p></li>
<li><p><strong>bams</strong> – List of BAMs corresponding to the VCF. BAM ordering should match sample ordering in VCF.</p></li>
<li><p><strong>is_fp</strong> – Is the VCF for false positive variants.</p></li>
<li><p><strong>require_genotype</strong> – If all samples need genotype called.</p></li>
<li><p><strong>tags</strong> – A dictionary with custom tags for VCF dataframe.                Format = {“tag1” : 1, “tag2” : False}. [{} by default]</p></li>
<li><p><strong>info_keys</strong> – List of INFO columns to parse. For all columns, pass “*”. [Empty by default].</p></li>
<li><p><strong>filter_keys</strong> – List of FILTER columns to parse. For all columns, pass “*”. [Empty be default].</p></li>
<li><p><strong>format_keys</strong> – List of FORMAT columns to parse. For all columns, pass “*”. [Empty by default].</p></li>
<li><p><strong>regions</strong> – Region of VCF to parse. Needs tabix index (vcf name + .tbi).                Format = [“chr:start-end”, “chr2:s-e”,…]. [None by default]</p></li>
<li><p><strong>num_threads</strong> – Number of threads to use for parallel parsing of VCF. [CPU count by default]</p></li>
<li><p><strong>chunksize</strong> – Number of VCF rows to parse in a single threads. [5000 by default].</p></li>
<li><p><strong>sort</strong> – Order DataFrame by chr and start position.</p></li>
<li><p><strong>unbounded_val_max_cols</strong> – Number of values to assume for unbounded VCF keys. [3 by default, minimum 2]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Instance of class.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="variantworks.io.vcfio.VCFReader.dataframe">
<em class="property">property </em><code class="sig-name descname">dataframe</code><a class="headerlink" href="#variantworks.io.vcfio.VCFReader.dataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Get variant list as a CPU pandas dataframe.</p>
<p>Each row in the returned dataframe represents a variant entry.
For each variant entry, the following metrics are currently tracked -
1. chrom - Chromosome
2. start_pos - Start position of variant (inclusive)
3. end_pos - End position of variant (exclusive)
4. ref - Reference base(s)
5. alt - Alternate base(s)
6. variant_type - VariantType enum specifying SNP/INSERTION/DELETION as an int
7. quality - Quality of variant call
8. filter - VCF FILTER column [if requested]
9. info - VCF INFO column [if requested]
10. format - VCF FORMAT column [if requested]. GT is converted to an int                 representation of VariantZygosity enum.</p>
<p>For any entries where a value is missing or cannot be inferred, the following
default values are used:
float = numpy.nan
int = numpy.int32.min
str = empty str
flag = numpy.bool_(False)</p>
<p>This dataframe can be easily converted to cuDF for large scale
variant processing.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Parsed variants as pandas DataFrame.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="variantworks.io.vcfio.VCFReader.samples">
<em class="property">property </em><code class="sig-name descname">samples</code><a class="headerlink" href="#variantworks.io.vcfio.VCFReader.samples" title="Permalink to this definition">¶</a></dt>
<dd><p>Get list of samples names in VCF file.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="variantworks.io.vcfio.VCFWriter">
<em class="property">class </em><code class="sig-prename descclassname">variantworks.io.vcfio.</code><code class="sig-name descname">VCFWriter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vcf_df</span></em>, <em class="sig-param"><span class="n">output_path</span></em>, <em class="sig-param"><span class="n">sample_names</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">num_threads</span><span class="o">=</span><span class="default_value">24</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/io/vcfio.html#VCFWriter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.io.vcfio.VCFWriter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#variantworks.io.baseio.BaseWriter" title="variantworks.io.baseio.BaseWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">variantworks.io.baseio.BaseWriter</span></code></a></p>
<p>Writer for VCF dataframe.</p>
<dl class="py method">
<dt id="variantworks.io.vcfio.VCFWriter.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vcf_df</span></em>, <em class="sig-param"><span class="n">output_path</span></em>, <em class="sig-param"><span class="n">sample_names</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">num_threads</span><span class="o">=</span><span class="default_value">24</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/io/vcfio.html#VCFWriter.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.io.vcfio.VCFWriter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructor VCFWriter class.</p>
<p>Writes a VCF dataframe into a VCF file. Determines the header string
for the VCF file based on the available columns in the dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vcf_df</strong> – VCF Dataframe to generate header from.</p></li>
<li><p><strong>output_path</strong> – Output path for VCF output file.</p></li>
<li><p><strong>sample_names</strong> – List with names of samples in dataframe. Required to
distinguish between info and sample format columns. If not
provided, all non-filter columns are stored as INFO.</p></li>
<li><p><strong>num_threads</strong> – Number of parallel threads to use for VCFWriter.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Instance of object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="variantworks.io.vcfio.VCFWriter.write_output">
<code class="sig-name descname">write_output</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vcf_df</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/io/vcfio.html#VCFWriter.write_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.io.vcfio.VCFWriter.write_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Write dataframe to VCF.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>vcf_df</strong> – VCF dataframe whose entries are to be serialized.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-variantworks.types">
<span id="types"></span><h1>Types<a class="headerlink" href="#module-variantworks.types" title="Permalink to this headline">¶</a></h1>
<p>Shared enums and types across VariantWorks.</p>
<dl class="py class">
<dt id="variantworks.types.FileRegion">
<em class="property">class </em><code class="sig-prename descclassname">variantworks.types.</code><code class="sig-name descname">FileRegion</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start_pos</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">end_pos</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">file_path</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/types.html#FileRegion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.types.FileRegion" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A dataclass encapsulating a region of positions within a file.</p>
<dl class="py method">
<dt id="variantworks.types.FileRegion.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start_pos</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">end_pos</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">file_path</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#variantworks.types.FileRegion.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="variantworks.types.FileRegion.end_pos">
<code class="sig-name descname">end_pos</code><em class="property">: int</em><em class="property"> = None</em><a class="headerlink" href="#variantworks.types.FileRegion.end_pos" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="variantworks.types.FileRegion.file_path">
<code class="sig-name descname">file_path</code><em class="property">: str</em><em class="property"> = None</em><a class="headerlink" href="#variantworks.types.FileRegion.file_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="variantworks.types.FileRegion.start_pos">
<code class="sig-name descname">start_pos</code><em class="property">: int</em><em class="property"> = None</em><a class="headerlink" href="#variantworks.types.FileRegion.start_pos" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="variantworks.types.Variant">
<em class="property">class </em><code class="sig-prename descclassname">variantworks.types.</code><code class="sig-name descname">Variant</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">chrom</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">pos</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">ref</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">allele</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">quality</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">filter</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">info</span><span class="p">:</span> <span class="n">Dict</span></em>, <em class="sig-param"><span class="n">format</span><span class="p">:</span> <span class="n">List<span class="p">[</span>List<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">samples</span><span class="p">:</span> <span class="n">List<span class="p">[</span>List<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">zygosity</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference internal" href="#variantworks.types.VariantZygosity" title="variantworks.types.VariantZygosity">variantworks.types.VariantZygosity</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">type</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#variantworks.types.VariantType" title="variantworks.types.VariantType">variantworks.types.VariantType</a></span></em>, <em class="sig-param"><span class="n">vcf</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">bams</span><span class="p">:</span> <span class="n">List<span class="p">[</span>str<span class="p">]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/variantworks/types.html#Variant"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.types.Variant" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A dataclass encapsulating a variant.</p>
<dl class="py method">
<dt id="variantworks.types.Variant.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">chrom</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">pos</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">id</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">ref</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">allele</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">quality</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">filter</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">info</span><span class="p">:</span> <span class="n">Dict</span></em>, <em class="sig-param"><span class="n">format</span><span class="p">:</span> <span class="n">List<span class="p">[</span>List<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">samples</span><span class="p">:</span> <span class="n">List<span class="p">[</span>List<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">zygosity</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference internal" href="#variantworks.types.VariantZygosity" title="variantworks.types.VariantZygosity">variantworks.types.VariantZygosity</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">type</span><span class="p">:</span> <span class="n"><a class="reference internal" href="#variantworks.types.VariantType" title="variantworks.types.VariantType">variantworks.types.VariantType</a></span></em>, <em class="sig-param"><span class="n">vcf</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">bams</span><span class="p">:</span> <span class="n">List<span class="p">[</span>str<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; None<a class="headerlink" href="#variantworks.types.Variant.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="variantworks.types.Variant.allele">
<code class="sig-name descname">allele</code><em class="property">: str</em><em class="property"> = None</em><a class="headerlink" href="#variantworks.types.Variant.allele" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="variantworks.types.Variant.bams">
<code class="sig-name descname">bams</code><em class="property">: List[str]</em><em class="property"> = None</em><a class="headerlink" href="#variantworks.types.Variant.bams" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="variantworks.types.Variant.chrom">
<code class="sig-name descname">chrom</code><em class="property">: str</em><em class="property"> = None</em><a class="headerlink" href="#variantworks.types.Variant.chrom" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="variantworks.types.Variant.filter">
<code class="sig-name descname">filter</code><em class="property">: str</em><em class="property"> = None</em><a class="headerlink" href="#variantworks.types.Variant.filter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="variantworks.types.Variant.format">
<code class="sig-name descname">format</code><em class="property">: List[List]</em><em class="property"> = None</em><a class="headerlink" href="#variantworks.types.Variant.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="variantworks.types.Variant.id">
<code class="sig-name descname">id</code><em class="property">: str</em><em class="property"> = None</em><a class="headerlink" href="#variantworks.types.Variant.id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="variantworks.types.Variant.info">
<code class="sig-name descname">info</code><em class="property">: Dict</em><em class="property"> = None</em><a class="headerlink" href="#variantworks.types.Variant.info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="variantworks.types.Variant.pos">
<code class="sig-name descname">pos</code><em class="property">: int</em><em class="property"> = None</em><a class="headerlink" href="#variantworks.types.Variant.pos" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="variantworks.types.Variant.quality">
<code class="sig-name descname">quality</code><em class="property">: int</em><em class="property"> = None</em><a class="headerlink" href="#variantworks.types.Variant.quality" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="variantworks.types.Variant.ref">
<code class="sig-name descname">ref</code><em class="property">: str</em><em class="property"> = None</em><a class="headerlink" href="#variantworks.types.Variant.ref" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="variantworks.types.Variant.samples">
<code class="sig-name descname">samples</code><em class="property">: List[List]</em><em class="property"> = None</em><a class="headerlink" href="#variantworks.types.Variant.samples" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="variantworks.types.Variant.type">
<code class="sig-name descname">type</code><em class="property">: VariantType</em><em class="property"> = None</em><a class="headerlink" href="#variantworks.types.Variant.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="variantworks.types.Variant.vcf">
<code class="sig-name descname">vcf</code><em class="property">: str</em><em class="property"> = None</em><a class="headerlink" href="#variantworks.types.Variant.vcf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="variantworks.types.Variant.zygosity">
<code class="sig-name descname">zygosity</code><em class="property">: List[VariantZygosity]</em><em class="property"> = None</em><a class="headerlink" href="#variantworks.types.Variant.zygosity" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="variantworks.types.VariantType">
<em class="property">class </em><code class="sig-prename descclassname">variantworks.types.</code><code class="sig-name descname">VariantType</code><a class="reference internal" href="../_modules/variantworks/types.html#VariantType"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.types.VariantType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">enum.IntEnum</span></code></p>
<p>An enum defining type of variant.</p>
<dl class="py attribute">
<dt id="variantworks.types.VariantType.DELETION">
<code class="sig-name descname">DELETION</code><em class="property"> = 2</em><a class="headerlink" href="#variantworks.types.VariantType.DELETION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="variantworks.types.VariantType.INSERTION">
<code class="sig-name descname">INSERTION</code><em class="property"> = 1</em><a class="headerlink" href="#variantworks.types.VariantType.INSERTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="variantworks.types.VariantType.NONE">
<code class="sig-name descname">NONE</code><em class="property"> = -1</em><a class="headerlink" href="#variantworks.types.VariantType.NONE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="variantworks.types.VariantType.SNP">
<code class="sig-name descname">SNP</code><em class="property"> = 0</em><a class="headerlink" href="#variantworks.types.VariantType.SNP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt id="variantworks.types.VariantZygosity">
<em class="property">class </em><code class="sig-prename descclassname">variantworks.types.</code><code class="sig-name descname">VariantZygosity</code><a class="reference internal" href="../_modules/variantworks/types.html#VariantZygosity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.types.VariantZygosity" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">enum.IntEnum</span></code></p>
<p>An enum defining zygosity of variant.</p>
<dl class="py attribute">
<dt id="variantworks.types.VariantZygosity.HETEROZYGOUS">
<code class="sig-name descname">HETEROZYGOUS</code><em class="property"> = 2</em><a class="headerlink" href="#variantworks.types.VariantZygosity.HETEROZYGOUS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="variantworks.types.VariantZygosity.HOMOZYGOUS">
<code class="sig-name descname">HOMOZYGOUS</code><em class="property"> = 1</em><a class="headerlink" href="#variantworks.types.VariantZygosity.HOMOZYGOUS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="variantworks.types.VariantZygosity.NONE">
<code class="sig-name descname">NONE</code><em class="property"> = -1</em><a class="headerlink" href="#variantworks.types.VariantZygosity.NONE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt id="variantworks.types.VariantZygosity.NO_VARIANT">
<code class="sig-name descname">NO_VARIANT</code><em class="property"> = 0</em><a class="headerlink" href="#variantworks.types.VariantZygosity.NO_VARIANT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<span class="target" id="module-variantworks.neural_types"></span><p>Custom neural types for VariantWorks.</p>
<dl class="py class">
<dt id="variantworks.neural_types.HaploidNeuralType">
<em class="property">class </em><code class="sig-prename descclassname">variantworks.neural_types.</code><code class="sig-name descname">HaploidNeuralType</code><a class="reference internal" href="../_modules/variantworks/neural_types.html#HaploidNeuralType"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.neural_types.HaploidNeuralType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">nemo.core.neural_types.elements.LabelsType</span></code></p>
<p>Element type to represent label output from HaploidLabelEncoder.</p>
</dd></dl>

<dl class="py class">
<dt id="variantworks.neural_types.ReadPileupNeuralType">
<em class="property">class </em><code class="sig-prename descclassname">variantworks.neural_types.</code><code class="sig-name descname">ReadPileupNeuralType</code><a class="reference internal" href="../_modules/variantworks/neural_types.html#ReadPileupNeuralType"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.neural_types.ReadPileupNeuralType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">nemo.core.neural_types.elements.ChannelType</span></code></p>
<p>Element type to represent a variant encoding.</p>
</dd></dl>

<dl class="py class">
<dt id="variantworks.neural_types.SummaryPileupNeuralType">
<em class="property">class </em><code class="sig-prename descclassname">variantworks.neural_types.</code><code class="sig-name descname">SummaryPileupNeuralType</code><a class="reference internal" href="../_modules/variantworks/neural_types.html#SummaryPileupNeuralType"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.neural_types.SummaryPileupNeuralType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">nemo.core.neural_types.elements.ChannelType</span></code></p>
<p>Element type to represent a consensus summary encoding.</p>
</dd></dl>

<dl class="py class">
<dt id="variantworks.neural_types.VariantZygosityNeuralType">
<em class="property">class </em><code class="sig-prename descclassname">variantworks.neural_types.</code><code class="sig-name descname">VariantZygosityNeuralType</code><a class="reference internal" href="../_modules/variantworks/neural_types.html#VariantZygosityNeuralType"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#variantworks.neural_types.VariantZygosityNeuralType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">nemo.core.neural_types.elements.LabelsType</span></code></p>
<p>Element type to represent variant type (no variant, heterozygous or homozygous.</p>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="modules.html" class="btn btn-neutral float-left" title="API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, NVIDIA Corportation

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>